<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ThreeJS Starter Template</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
            integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>

    <body class="loading single">
        <main>
            <div class="scene"></div>
            <section class="videos" id="tv">
                <video class="vid1 d_none" loop src="./vid/Design Agency Webgl LandingPage.mp4">
                    Video not
                    supported!</video>
                <video class="vid2 d_none" loop src="./vid/WebGL Slider And Card Effects.mp4">
                    Video not supported!
                </video>
                <video class="vid3 d_none" loop src="./vid/WebGL Ripple Effect.mp4"> Video not
                    supported! </video>
                <video class="vid4 d_none" loop src="./vid/webgl-pointlights-animation-LowEnd.mp4"> Video not supported!
                </video>
            </section>

            <section class="controls">
                <div class="wrap_center">
                    <div class="btn-wrap center" id="tv_contrls">
                        <div class="btn-set on" id="power">
                            <i class="fas fa-power-off"></i>
                        </div>
                        <div class="btn-set sanitize" id="prev">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="btn-set sanitize" id="next">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="btn-set" id="expand">
                            <i class="fas fa-expand"></i>
                        </div>
                    </div>
                </div>

                <div class="stage-controls">
                    <div class="btn-wrap end">
                        <p class="scroll-down up reverse"><a class="animate">Up</a></p>
                    </div>

                    <div class="btn-wrap start">
                        <p class="scroll-down down"><a class="animate">Down</a></p>
                    </div>
                </div>

                <div class="btn-wrap">
                    <div class="btn-set sanitize" id="reset">
                        <i class="fas fa-sync-alt"></i>
                    </div>
                </div>
            </section>

            <section class="stage-intro">
                <div class="stage-1">
                    <h1>About Me</h1>
                    <p id="stage1-typed">
                        >> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aperiam quo eos optio. Quibusdam id
                        ipsam debitis, vitae eligendi magnam iure.
                    </p>
                </div>
                <div class="stage-2">
                    <h1>More over</h1>
                    <p id="stage2-typed">
                        >> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aperiam quo eos optio. Quibusdam id
                        ipsam debitis, vitae eligendi magnam iure.
                    </p>
                </div>
            </section>

            <section class="helper">
                <div class="helper-element current" id="living-room">
                    <div class="helper-details">
                        <h1>Tip :</h1>
                        <p></p>
                        <small> >> Hover on TV</small>
                    </div>
                </div>
                <div class="helper-element" id="bed-room">
                    <div class="helper-details">
                        <h1>Tip :</h1>
                        <p></p>
                        <small> >> Hover on TV</small>
                    </div>
                </div>
            </section>
        </main>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js"></script>
        <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>


        <script src="../dist/three.js"></script>
        <script src="../dist/GLTFLoader.js"></script>
        <script src="../dist/threex.domevents.js"></script>
        <script src="./js/animate.js"></script>

        <script type="module">
            import { EVENT, Sketch } from './js/main.js';
            import { animateStageIntro } from './js/base.js';
            import { HELPER_MESSAGES } from './js/constants.js';
            const sketch = new Sketch();

            EVENT.on('loaded', () => {
                document.body.classList.remove('loading');

                sketch.LOAD();
                animateStageIntro(1);

                // type stage helper
                new Typewriter('.helper-element.current .helper-details p', {
                    strings: [HELPER_MESSAGES[0]],
                    autoStart: true,
                    loop: true,
                    pause: 10000,
                    delay: 15,
                    deleteSpeed: 30,
                });
            });

            const reset = document.querySelector("#reset");
            reset.addEventListener("click", () => {
                if (reset.classList.contains('load')) reset.classList.remove('load');
                else {
                    reset.classList.add('load');

                    setTimeout(() => {
                        reset.classList.remove('load');
                    }, 800);
                }
            })

            function typeStageIntro() {
                new Typewriter('#stage1-typed', {
                    strings: [`>> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aperiam quo eos optio. Quibusdam id
                        ipsam debitis, vitae eligendi magnam iure.`],
                    autoStart: true,
                    loop: true,
                    pauseFor: 10000,
                    delay: 2
                });
            }
        </script>
    </body>

</html>